# QuickBridge

<div align="center">

![](https://img.shields.io/badge/React-61DAFB?style=flat-square&logo=react&logoColor=black)
![](https://img.shields.io/badge/TypeScript-3178C6?style=flat-square&logo=typescript&logoColor=white)
![](https://img.shields.io/badge/Node.js-339933?style=flat-square&logo=node.js&logoColor=white)
![](https://img.shields.io/badge/Express-000000?style=flat-square&logo=express&logoColor=white)
![](https://img.shields.io/badge/Redis-DC382D?style=flat-square&logo=redis&logoColor=white)
![](https://badges.aleen42.com/src/vitejs.svg)

**è·¨è®¾å¤‡æ•°æ®ä¼ è¾“å·¥å…· - ç®€å•ã€å¿«é€Ÿã€å®‰å…¨**

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢ [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—) â€¢ [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)

</div>

---

## ğŸ“– ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
  - [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
  - [å®‰è£…æ­¥éª¤](#å®‰è£…æ­¥éª¤)
  - [å¼€å‘æ¨¡å¼](#å¼€å‘æ¨¡å¼)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
  - [åç«¯éƒ¨ç½²](#åç«¯éƒ¨ç½²)
  - [æ’ä»¶å‘å¸ƒ](#æ’ä»¶å‘å¸ƒ)
- [ä½¿ç”¨è¯´æ˜](#ä½¿ç”¨è¯´æ˜)
- [ç¯å¢ƒå˜é‡é…ç½®](#ç¯å¢ƒå˜é‡é…ç½®)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)

---

## é¡¹ç›®ç®€ä»‹

QuickBridge æ˜¯ä¸€ä¸ªåŸºäºåœ°å€çš„è·¨è®¾å¤‡æ•°æ®ä¼ è¾“å·¥å…·ï¼Œæ”¯æŒåœ¨ç”µè„‘ã€æ‰‹æœºç­‰å¤šä¸ªè®¾å¤‡ä¹‹é—´å¿«é€Ÿä¼ è¾“æ–‡æœ¬å’Œæ–‡ä»¶ï¼ˆæœ€å¤§ 20MBï¼‰ã€‚æ— éœ€æ³¨å†Œè´¦å·ï¼Œé€šè¿‡ç”Ÿæˆæˆ–åŠ å…¥åœ°å€å³å¯å¼€å§‹ä¼ è¾“æ•°æ®ã€‚

### æ ¸å¿ƒç‰¹ç‚¹

- ğŸš€ **æ— éœ€æ³¨å†Œ** - ç”Ÿæˆéšæœºåœ°å€æˆ–è‡ªå®šä¹‰åœ°å€å³å¯ä½¿ç”¨
- ğŸ“± **è·¨å¹³å°æ”¯æŒ** - Chrome æµè§ˆå™¨æ’ä»¶ + Web ç§»åŠ¨ç«¯
- ğŸ“ **å¤šæ¡è®°å½•ä¿å­˜** - ä¿ç•™æ‰€æœ‰æ–‡æœ¬å’Œæ–‡ä»¶ä¼ è¾“å†å²
- ğŸ”„ **å®æ—¶åŒæ­¥** - 3 ç§’è‡ªåŠ¨è½®è¯¢æ›´æ–°æ•°æ®
- ğŸ”’ **ä¸´æ—¶å­˜å‚¨** - æ•°æ®é»˜è®¤ä¿å­˜ 24 å°æ—¶åè‡ªåŠ¨åˆ é™¤
- ğŸ“¦ **æ–‡ä»¶ä¼ è¾“** - æ”¯æŒæœ€å¤§ 20MB æ–‡ä»¶ä¸Šä¼ ä¸‹è½½
- ğŸ¨ **ç°ä»£åŒ– UI** - åŸºäº React + Tailwind CSS

---

## åŠŸèƒ½ç‰¹æ€§

### æµè§ˆå™¨æ’ä»¶ç«¯

- âœ… ç”Ÿæˆéšæœºåœ°å€æˆ–åˆ›å»ºè‡ªå®šä¹‰åœ°å€
- âœ… æ˜¾ç¤ºäºŒç»´ç ä¾›æ‰‹æœºæ‰«æ
- âœ… å‘é€å’Œæ¥æ”¶æ–‡æœ¬æ¶ˆæ¯
- âœ… ä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶
- âœ… æŸ¥çœ‹æ‰€æœ‰ä¼ è¾“è®°å½•ï¼ˆæ–‡æœ¬ + æ–‡ä»¶ï¼‰
- âœ… æ–‡æœ¬å±•å¼€/æ”¶èµ·åŠŸèƒ½
- âœ… ä¸€é”®å¤åˆ¶å®Œæ•´æ–‡æœ¬
- âœ… å®æ—¶åŒæ­¥æ•°æ®

### Web ç§»åŠ¨ç«¯

- âœ… æ‰«æäºŒç»´ç å¿«é€ŸåŠ å…¥åœ°å€
- âœ… å‘é€å’Œæ¥æ”¶æ–‡æœ¬
- âœ… ä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶
- âœ… æŸ¥çœ‹ä¼ è¾“å†å²è®°å½•
- âœ… å“åº”å¼è®¾è®¡ï¼Œé€‚é…æ‰‹æœºå±å¹•

---

## æŠ€æœ¯æ ˆ

### å‰ç«¯ï¼ˆæµè§ˆå™¨æ’ä»¶ï¼‰

- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»ºå·¥å…·**: Vite + Turborepo
- **æ ·å¼**: Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: React Hooks
- **å­˜å‚¨**: Chrome Storage API
- **æ¶æ„**: Monorepo (pnpm workspaces)

### åç«¯ API

- **è¿è¡Œæ—¶**: Node.js + Express
- **è¯­è¨€**: TypeScript
- **æ•°æ®åº“**: Redis
- **æ–‡ä»¶å­˜å‚¨**: æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ
- **éªŒè¯**: Zod
- **é™æµ**: express-rate-limit

### Web å‰ç«¯ï¼ˆç§»åŠ¨ç«¯ï¼‰

- **æŠ€æœ¯**: åŸç”Ÿ HTML + CSS + JavaScript
- **ä½ç½®**: `backend/public/index.html`

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18
- pnpm >= 8
- Redis >= 6

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**

```bash
git clone https://github.com/your-username/chrome-extension-QuickBridge.git
cd chrome-extension-QuickBridge
```

2. **å®‰è£…ä¾èµ–**

```bash
# å®‰è£… pnpmï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
npm install -g pnpm

# å®‰è£…é¡¹ç›®ä¾èµ–
pnpm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**

```bash
# æ ¹ç›®å½• .envï¼ˆæ’ä»¶é…ç½®ï¼‰
cp .example.env .env

# åç«¯ .env
cd backend
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼ˆè¯¦è§[ç¯å¢ƒå˜é‡é…ç½®](#ç¯å¢ƒå˜é‡é…ç½®)ï¼‰ã€‚

4. **å¯åŠ¨ Redis**

```bash
# macOS
brew services start redis

# Linux
sudo systemctl start redis

# Docker
docker run -d -p 6379:6379 redis:latest
```

### å¼€å‘æ¨¡å¼

**å¯åŠ¨åç«¯æœåŠ¡**

```bash
cd backend
pnpm dev
# åç«¯è¿è¡Œåœ¨ http://localhost:3000
```

**å¯åŠ¨æ’ä»¶å¼€å‘**

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
pnpm dev
```

**åŠ è½½æ’ä»¶åˆ°æµè§ˆå™¨**

1. æ‰“å¼€ Chrome æµè§ˆå™¨
2. è®¿é—® `chrome://extensions`
3. å¼€å¯"å¼€å‘è€…æ¨¡å¼"
4. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
5. é€‰æ‹©é¡¹ç›®çš„ `dist` ç›®å½•

---

## é¡¹ç›®ç»“æ„

```
chrome-extension-QuickBridge/
â”œâ”€â”€ backend/                    # åç«¯ API æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/       # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ routes/            # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ middleware/        # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ config/            # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ types/             # TypeScript ç±»å‹
â”‚   â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ public/                # Web å‰ç«¯ï¼ˆç§»åŠ¨ç«¯ï¼‰
â”‚   â”‚   â””â”€â”€ index.html         # å•é¡µé¢åº”ç”¨
â”‚   â””â”€â”€ uploads/               # æ–‡ä»¶ä¸Šä¼ ç›®å½•
â”‚
â”œâ”€â”€ chrome-extension/          # æµè§ˆå™¨æ’ä»¶é…ç½®
â”‚   â”œâ”€â”€ manifest.ts            # Manifest ç”Ÿæˆè„šæœ¬
â”‚   â””â”€â”€ public/                # æ’ä»¶å›¾æ ‡ç­‰é™æ€èµ„æº
â”‚
â”œâ”€â”€ pages/                     # æ’ä»¶é¡µé¢
â”‚   â”œâ”€â”€ side-panel/           # ä¾§è¾¹æ ï¼ˆä¸»ç•Œé¢ï¼‰
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ components/   # React ç»„ä»¶
â”‚   â”‚       â”‚   â”œâ”€â”€ AddressManager.tsx
â”‚   â”‚       â”‚   â”œâ”€â”€ QRCodeDisplay.tsx
â”‚   â”‚       â”‚   â”œâ”€â”€ TextTransfer.tsx
â”‚   â”‚       â”‚   â”œâ”€â”€ FileUpload.tsx
â”‚   â”‚       â”‚   â””â”€â”€ FileList.tsx
â”‚   â”‚       â””â”€â”€ hooks/        # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ popup/                # å·¥å…·æ å¼¹çª—
â”‚   â””â”€â”€ options/              # é€‰é¡¹é¡µé¢
â”‚
â”œâ”€â”€ packages/                  # å…±äº«åŒ…
â”‚   â”œâ”€â”€ sync-service/         # æ ¸å¿ƒåŒæ­¥æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â”œâ”€â”€ api/         # API å®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â”œâ”€â”€ storage/     # Chrome Storage å°è£…
â”‚   â”‚   â”‚   â”œâ”€â”€ types/       # ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ utils/       # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ storage/              # Storage åŠ©æ‰‹
â”‚   â”œâ”€â”€ shared/               # å…±äº«ä»£ç 
â”‚   â”œâ”€â”€ ui/                   # UI ç»„ä»¶åº“
â”‚   â””â”€â”€ ...                   # å…¶ä»–å·¥å…·åŒ…
â”‚
â””â”€â”€ dist/                      # æ„å»ºè¾“å‡ºç›®å½•
```

---

## æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·è®¾å¤‡                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Chrome æ’ä»¶ç«¯    â”‚              â”‚   Web ç§»åŠ¨ç«¯      â”‚    â”‚
â”‚  â”‚  (Side Panel)    â”‚              â”‚  (æ‰‹æœºæµè§ˆå™¨)     â”‚    â”‚
â”‚  â”‚                  â”‚              â”‚                  â”‚    â”‚
â”‚  â”‚  - åœ°å€ç®¡ç†       â”‚              â”‚  - æ‰«ç åŠ å…¥       â”‚    â”‚
â”‚  â”‚  - æ–‡æœ¬ä¼ è¾“       â”‚              â”‚  - æ–‡æœ¬ä¼ è¾“       â”‚    â”‚
â”‚  â”‚  - æ–‡ä»¶ä¸Šä¼        â”‚              â”‚  - æ–‡ä»¶ä¸Šä¼        â”‚    â”‚
â”‚  â”‚  - ä¼ è¾“åˆ—è¡¨       â”‚              â”‚  - ä¼ è¾“åˆ—è¡¨       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â”‚                                 â”‚               â”‚
â”‚           â”‚    HTTP/REST API (3ç§’è½®è¯¢)      â”‚               â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                         â”‚                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   åç«¯ API æœåŠ¡å™¨      â”‚
              â”‚   (Express + Node.js) â”‚
              â”‚                       â”‚
              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
              â”‚  â”‚   Controllers   â”‚ â”‚
              â”‚  â”‚   - Address     â”‚ â”‚
              â”‚  â”‚   - Text        â”‚ â”‚
              â”‚  â”‚   - File        â”‚ â”‚
              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
              â”‚           â”‚          â”‚
              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
              â”‚  â”‚    Services     â”‚ â”‚
              â”‚  â”‚   - Storage     â”‚ â”‚
              â”‚  â”‚   - Address     â”‚ â”‚
              â”‚  â”‚   - File        â”‚ â”‚
              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
              â”‚           â”‚          â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                      â”‚
              â–¼                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Redis æ•°æ®åº“    â”‚   â”‚  æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ     â”‚
    â”‚                  â”‚   â”‚                  â”‚
    â”‚  - åœ°å€è®°å½•       â”‚   â”‚  - ä¸Šä¼ çš„æ–‡ä»¶     â”‚
    â”‚  - æ–‡æœ¬æ•°æ®       â”‚   â”‚  (uploads/)      â”‚
    â”‚  - æ–‡ä»¶å…ƒæ•°æ®     â”‚   â”‚                  â”‚
    â”‚  (24å°æ—¶ TTL)    â”‚   â”‚                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æ•°æ®ä¼ è¾“æµç¨‹                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. åˆ›å»ºåœ°å€
   ç”¨æˆ· â†’ æ’ä»¶ç«¯ â†’ POST /address/random
                 â†’ åç«¯åˆ›å»ºåœ°å€è®°å½•
                 â†’ Redis å­˜å‚¨ (addr:{address})
                 â†’ è¿”å›åœ°å€ + ç”ŸæˆäºŒç»´ç 

2. å‘é€æ–‡æœ¬
   ç”¨æˆ·è¾“å…¥ â†’ POST /data/{address}/text
           â†’ åç«¯ä¿å­˜æ–‡æœ¬
           â†’ Redis å­˜å‚¨:
              - texts:{address} (Set)
              - text:{address}:{textId}
           â†’ è¿”å›æˆåŠŸ

3. ä¸Šä¼ æ–‡ä»¶
   ç”¨æˆ·é€‰æ‹©æ–‡ä»¶ â†’ POST /data/{address}/file
                â†’ Multer å¤„ç†ä¸Šä¼ 
                â†’ ä¿å­˜åˆ° uploads/ ç›®å½•
                â†’ Redis å­˜å‚¨å…ƒæ•°æ®:
                   - files:{address} (Set)
                   - file:{address}:{fileId}
                â†’ è¿”å›æ–‡ä»¶ä¿¡æ¯

4. è½®è¯¢è·å–æ•°æ® (æ¯ 3 ç§’)
   æ’ä»¶ç«¯/Webç«¯ â†’ GET /data/{address}/list
                â†’ åç«¯æŸ¥è¯¢ Redis:
                   - è·å–æ‰€æœ‰æ–‡æœ¬ (texts:{address})
                   - è·å–æ‰€æœ‰æ–‡ä»¶ (files:{address})
                â†’ åˆå¹¶å¹¶æŒ‰æ—¶é—´æ’åº
                â†’ è¿”å›åˆ—è¡¨ (é¢„è§ˆå‰ 100 å­—ç¬¦)

5. æŸ¥çœ‹å®Œæ•´æ–‡æœ¬
   ç”¨æˆ·ç‚¹å‡»"å±•å¼€" â†’ GET /data/{address}/text/{textId}
                  â†’ è¿”å›å®Œæ•´æ–‡æœ¬å†…å®¹

6. ä¸‹è½½æ–‡ä»¶
   ç”¨æˆ·ç‚¹å‡»"ä¸‹è½½" â†’ GET /data/{address}/file/{fileId}
                  â†’ ä» uploads/ è¯»å–æ–‡ä»¶
                  â†’ è¿”å›æ–‡ä»¶æµ
```

### Redis æ•°æ®ç»“æ„

```
Redis Key è®¾è®¡:

1. åœ°å€è®°å½•
   Key: addr:{address}
   Type: String (JSON)
   Value: {
     address: string,
     createdAt: number,
     lastAccessedAt: number,
     expiresAt: number,
     isCustom: boolean
   }
   TTL: 24 å°æ—¶

2. æ–‡æœ¬åˆ—è¡¨
   Key: texts:{address}
   Type: Set
   Value: [textId1, textId2, ...]
   TTL: 24 å°æ—¶

3. æ–‡æœ¬æ•°æ®
   Key: text:{address}:{textId}
   Type: String (JSON)
   Value: {
     id: string,
     address: string,
     content: string,
     createdAt: number,
     updatedAt: number
   }
   TTL: 24 å°æ—¶

4. æ–‡ä»¶åˆ—è¡¨
   Key: files:{address}
   Type: Set
   Value: [fileId1, fileId2, ...]
   TTL: 24 å°æ—¶

5. æ–‡ä»¶å…ƒæ•°æ®
   Key: file:{address}:{fileId}
   Type: String (JSON)
   Value: {
     id: string,
     address: string,
     filename: string,
     originalName: string,
     mimeType: string,
     size: number,
     path: string,
     createdAt: number
   }
   TTL: 24 å°æ—¶
```

---

## éƒ¨ç½²æŒ‡å—

### åç«¯éƒ¨ç½²

#### æ–¹å¼ 1: ä¸€é”®éƒ¨ç½²è„šæœ¬ï¼ˆæ¨è â­ï¼‰

**é€‚ç”¨åœºæ™¯**: äº‘æœåŠ¡å™¨ï¼ˆé˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€Oracle Cloud ç­‰ï¼‰æˆ– VPS

è¿™æ˜¯æœ€ç®€å•çš„éƒ¨ç½²æ–¹å¼ï¼Œä½¿ç”¨ Docker Compose è‡ªåŠ¨éƒ¨ç½²åç«¯å’Œ Redisã€‚

**å‰ç½®è¦æ±‚**:
- å·²å®‰è£… Docker å’Œ Docker Compose
- æœåŠ¡å™¨å¼€æ”¾ 3000 ç«¯å£

**éƒ¨ç½²æ­¥éª¤**:

```bash
# 1. å…‹éš†é¡¹ç›®åˆ°æœåŠ¡å™¨
git clone https://github.com/your-username/chrome-extension-QuickBridge.git
cd chrome-extension-QuickBridge/backend

# 2. è¿è¡Œä¸€é”®éƒ¨ç½²è„šæœ¬
chmod +x simple-deploy.sh
./simple-deploy.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆï¼š
- âœ… æ£€æŸ¥ Docker ç¯å¢ƒ
- âœ… æ„å»º Docker é•œåƒ
- âœ… å¯åŠ¨ Redis å’Œåç«¯æœåŠ¡
- âœ… å¥åº·æ£€æŸ¥
- âœ… æ˜¾ç¤ºæœåŠ¡çŠ¶æ€

**éƒ¨ç½²å®Œæˆå**ï¼Œä½ ä¼šçœ‹åˆ°ï¼š

```
========================================
æœåŠ¡å·²å¯åŠ¨åœ¨ä»¥ä¸‹ç«¯å£:
  - åç«¯ API: http://localhost:3000
  - Redis: localhost:6379 (ä»…å®¹å™¨å†…éƒ¨è®¿é—®)

æµ‹è¯• API:
  curl http://localhost:3000/health
  curl -X POST http://localhost:3000/api/v1/address/random

æŸ¥çœ‹æ—¥å¿—:
  docker-compose logs -f

åœæ­¢æœåŠ¡:
  docker-compose down
========================================
```

**é…ç½®åŸŸåå’Œ HTTPS**:

å¦‚æœä½ æœ‰åŸŸåï¼Œå»ºè®®é…ç½® Nginx åå‘ä»£ç†ï¼š

```bash
# 1. å®‰è£… Nginx
sudo apt update
sudo apt install nginx certbot python3-certbot-nginx

# 2. åˆ›å»º Nginx é…ç½®
sudo nano /etc/nginx/sites-available/quickbridge
```

**Nginx é…ç½®ç¤ºä¾‹**:

```nginx
server {
    listen 80;
    server_name your-domain.com;  # æ›¿æ¢ä¸ºä½ çš„åŸŸå

    # API è·¯ç”±
    location /api/ {
        proxy_pass http://localhost:3000/api/;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # Web å‰ç«¯ï¼ˆç§»åŠ¨ç«¯ï¼‰
    location / {
        proxy_pass http://localhost:3000/;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

```bash
# 3. å¯ç”¨é…ç½®
sudo ln -s /etc/nginx/sites-available/quickbridge /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx

# 4. é…ç½® HTTPSï¼ˆå¯é€‰ä½†æ¨èï¼‰
sudo certbot --nginx -d your-domain.com
```

**ç¯å¢ƒå˜é‡é…ç½®**:

å¦‚éœ€ä¿®æ”¹é…ç½®ï¼Œç¼–è¾‘ `docker-compose.yml` ä¸­çš„ `environment` éƒ¨åˆ†ï¼š

```yaml
environment:
  - PORT=3000                      # æœåŠ¡ç«¯å£
  - REDIS_HOST=redis               # Redis ä¸»æœºï¼ˆå®¹å™¨åï¼‰
  - REDIS_PORT=6379                # Redis ç«¯å£
  - MAX_FILE_SIZE=20971520         # æœ€å¤§æ–‡ä»¶å¤§å°ï¼ˆ20MBï¼‰
  - ADDRESS_TTL_HOURS=24           # åœ°å€è¿‡æœŸæ—¶é—´ï¼ˆ24å°æ—¶ï¼‰
  - CORS_ORIGIN=*                  # CORS é…ç½®
```

ä¿®æ”¹åé‡æ–°éƒ¨ç½²ï¼š

```bash
docker-compose down
docker-compose up -d
```

#### æ–¹å¼ 2: ä½¿ç”¨ PM2ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰

**é€‚ç”¨åœºæ™¯**: éœ€è¦æ›´ç»†ç²’åº¦æ§åˆ¶çš„åœºæ™¯

```bash
# 1. åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…ä¾èµ–
cd backend
pnpm install

# 2. æ„å»ºé¡¹ç›®
pnpm build

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
nano .env

# 4. å®‰è£…å¹¶å¯åŠ¨ Redis
sudo apt install redis-server
sudo systemctl start redis
sudo systemctl enable redis

# 5. å®‰è£… PM2
npm install -g pm2

# 6. å¯åŠ¨æœåŠ¡
pm2 start dist/index.js --name quickbridge-backend

# 7. è®¾ç½®å¼€æœºè‡ªå¯
pm2 save
pm2 startup

# 8. æŸ¥çœ‹æ—¥å¿—
pm2 logs quickbridge-backend
```

#### æ–¹å¼ 3: æ‰‹åŠ¨ Docker éƒ¨ç½²

**é€‚ç”¨åœºæ™¯**: éœ€è¦è‡ªå®šä¹‰ Docker é…ç½®

```bash
# 1. æ„å»ºé•œåƒ
cd backend
docker build -t quickbridge-backend .

# 2. å¯åŠ¨ Redis
docker run -d \
  --name quickbridge-redis \
  -p 6379:6379 \
  -v redis-data:/data \
  redis:7-alpine redis-server --appendonly yes

# 3. å¯åŠ¨åç«¯
docker run -d \
  --name quickbridge-backend \
  -p 3000:3000 \
  --link quickbridge-redis:redis \
  -e REDIS_HOST=redis \
  -e REDIS_PORT=6379 \
  -v $(pwd)/uploads:/app/uploads \
  quickbridge-backend

# 4. æŸ¥çœ‹æ—¥å¿—
docker logs -f quickbridge-backend
```

### æ’ä»¶å‘å¸ƒ

#### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

**ç¬¬ä¸€æ­¥ï¼šé…ç½®åç«¯åœ°å€**

åœ¨é¡¹ç›®æ ¹ç›®å½•ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œè®¾ç½®åç«¯ API åœ°å€ï¼š

```bash
# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano .env
```

æ ¹æ®ä½ çš„éƒ¨ç½²æ–¹å¼é…ç½® `VITE_API_BASE_URL`ï¼š

```bash
# å¦‚æœä½¿ç”¨åŸŸåï¼ˆæ¨èï¼‰
VITE_API_BASE_URL=https://your-domain.com/api/v1

# å¦‚æœä½¿ç”¨ IP åœ°å€
VITE_API_BASE_URL=http://your-server-ip:3000/api/v1

# æœ¬åœ°å¼€å‘
VITE_API_BASE_URL=http://localhost:3000/api/v1
```

**åŸŸåé…ç½®è¯´æ˜**ï¼š

åŸŸååœ¨ Nginx é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ï¼ˆè§ä¸Šé¢çš„"é…ç½®åŸŸåå’Œ HTTPS"éƒ¨åˆ†ï¼‰ï¼š

```nginx
server_name your-domain.com;  # è¿™é‡Œé…ç½®ä½ çš„åŸŸå
```

é…ç½®åŸŸåçš„æ­¥éª¤ï¼š
1. è´­ä¹°åŸŸåï¼ˆé˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€Cloudflare ç­‰ï¼‰
2. åœ¨åŸŸåç®¡ç†åå°æ·»åŠ  A è®°å½•ï¼ŒæŒ‡å‘ä½ çš„æœåŠ¡å™¨ IP
3. åœ¨æœåŠ¡å™¨ä¸Šé…ç½® Nginxï¼ˆè§ä¸Šé¢çš„ç¤ºä¾‹ï¼‰
4. ä½¿ç”¨ Certbot é…ç½® HTTPS è¯ä¹¦

**ç¬¬äºŒæ­¥ï¼šæ„å»ºæ’ä»¶**

```bash
# 1. æ„å»ºæ’ä»¶
pnpm build

# 2. æ‰“åŒ…æˆ zip
pnpm zip
```

æ„å»ºå®Œæˆåï¼Œä¼šåœ¨ `dist-zip` ç›®å½•ç”Ÿæˆ `extension-YYYYMMDD-HHmmss.zip` æ–‡ä»¶ã€‚

#### å‘å¸ƒåˆ° Chrome Web Store

1. è®¿é—® [Chrome Web Store Developer Dashboard](https://chrome.google.com/webstore/devconsole)
2. æ”¯ä»˜ $5 å¼€å‘è€…æ³¨å†Œè´¹ï¼ˆä¸€æ¬¡æ€§ï¼‰
3. ç‚¹å‡»"æ–°å¢é¡¹ç›®"
4. ä¸Šä¼  `extension.zip` æ–‡ä»¶
5. å¡«å†™åº”ç”¨ä¿¡æ¯ï¼š
   - **åç§°**: QuickBridge
   - **æè¿°**: è·¨è®¾å¤‡æ•°æ®ä¼ è¾“å·¥å…·
   - **å›¾æ ‡**: ä½¿ç”¨ `chrome-extension/public/icon-*.png`
   - **æˆªå›¾**: è‡³å°‘ 1 å¼ ï¼ˆ1280x800 æˆ– 640x400ï¼‰
   - **åˆ†ç±»**: ç”Ÿäº§åŠ›å·¥å…·
   - **éšç§æ”¿ç­–**: è¯´æ˜æ•°æ®ä¸´æ—¶å­˜å‚¨ 24 å°æ—¶
6. æäº¤å®¡æ ¸ï¼ˆé€šå¸¸ 1-3 å¤©ï¼‰

#### æ‰‹åŠ¨åˆ†å‘ï¼ˆä¸å‘å¸ƒåˆ°å•†åº—ï¼‰

å¦‚æœä¸æƒ³å‘å¸ƒåˆ° Chrome Web Storeï¼Œå¯ä»¥ç›´æ¥åˆ†å‘ `dist` ç›®å½•ï¼š

```bash
# 1. æ‰“åŒ… dist ç›®å½•
cd dist
zip -r ../quickbridge-extension.zip .

# 2. åˆ†äº«ç»™ç”¨æˆ·
# ç”¨æˆ·éœ€è¦ï¼š
# - ä¸‹è½½å¹¶è§£å‹ zip æ–‡ä»¶
# - æ‰“å¼€ chrome://extensions
# - å¼€å¯"å¼€å‘è€…æ¨¡å¼"
# - ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
# - é€‰æ‹©è§£å‹åçš„ç›®å½•
```

---

## ä½¿ç”¨è¯´æ˜

### æ’ä»¶ç«¯ä½¿ç”¨

1. **åˆ›å»ºåœ°å€**
   - ç‚¹å‡»"ç”Ÿæˆéšæœºåœ°å€"æˆ–è¾“å…¥è‡ªå®šä¹‰åœ°å€
   - ç³»ç»Ÿä¼šç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ä¼ è¾“åœ°å€

2. **åˆ†äº«åœ°å€**
   - æ˜¾ç¤ºäºŒç»´ç ä¾›æ‰‹æœºæ‰«æ
   - æˆ–ç›´æ¥åˆ†äº«åœ°å€å­—ç¬¦ä¸²

3. **å‘é€æ•°æ®**
   - åœ¨æ–‡æœ¬æ¡†è¾“å…¥å†…å®¹ï¼Œç‚¹å‡»"å‘é€æ–‡æœ¬"
   - ç‚¹å‡»"é€‰æ‹©æ–‡ä»¶"ä¸Šä¼ æ–‡ä»¶ï¼ˆæœ€å¤§ 20MBï¼‰

4. **æŸ¥çœ‹è®°å½•**
   - ä¼ è¾“åˆ—è¡¨è‡ªåŠ¨æ˜¾ç¤ºæ‰€æœ‰æ–‡æœ¬å’Œæ–‡ä»¶
   - ç‚¹å‡»"å±•å¼€"æŸ¥çœ‹å®Œæ•´æ–‡æœ¬
   - ç‚¹å‡»"å¤åˆ¶"å¤åˆ¶æ–‡æœ¬å†…å®¹
   - ç‚¹å‡»"ä¸‹è½½"ä¸‹è½½æ–‡ä»¶

### Web ç§»åŠ¨ç«¯ä½¿ç”¨

1. **åŠ å…¥åœ°å€**
   - æ‰«ææ’ä»¶ç«¯æ˜¾ç¤ºçš„äºŒç»´ç 
   - æˆ–åœ¨ URL ä¸­è¾“å…¥åœ°å€ï¼š`http://your-domain.com/?address=xxx`

2. **å‘é€å’Œæ¥æ”¶**
   - ä¸æ’ä»¶ç«¯ç›¸åŒçš„æ“ä½œç•Œé¢
   - æ”¯æŒå‘é€æ–‡æœ¬å’Œä¸Šä¼ æ–‡ä»¶
   - æŸ¥çœ‹ä¼ è¾“å†å²è®°å½•

---

## ç¯å¢ƒå˜é‡é…ç½®

### æ’ä»¶ç«¯é…ç½®ï¼ˆæ ¹ç›®å½• `.env`ï¼‰

```bash
# åç«¯ API åœ°å€
VITE_API_BASE_URL=http://localhost:3000/api/v1

# è½®è¯¢é—´éš”ï¼ˆæ¯«ç§’ï¼‰
VITE_POLL_INTERVAL_MS=3000

# æœ€å¤§æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰
VITE_MAX_FILE_SIZE=20971520
```

### åç«¯é…ç½®ï¼ˆ`backend/.env`ï¼‰

```bash
# æœåŠ¡å™¨ç«¯å£
PORT=3000

# Redis é…ç½®
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# æ–‡ä»¶ä¸Šä¼ é…ç½®
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=20971520

# åœ°å€è¿‡æœŸæ—¶é—´ï¼ˆå°æ—¶ï¼‰
ADDRESS_TTL_HOURS=24

# CORS é…ç½®ï¼ˆå¯é€‰ï¼‰
CORS_ORIGIN=*
```

---

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•ä¿®æ”¹æ•°æ®ä¿å­˜æ—¶é—´ï¼Ÿ

A: ä¿®æ”¹ `backend/.env` ä¸­çš„ `ADDRESS_TTL_HOURS` å˜é‡ã€‚

### Q: æ”¯æŒæ›´å¤§çš„æ–‡ä»¶å—ï¼Ÿ

A: ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š
- æ’ä»¶ç«¯ï¼š`.env` ä¸­çš„ `VITE_MAX_FILE_SIZE`
- åç«¯ï¼š`backend/.env` ä¸­çš„ `MAX_FILE_SIZE`
- åç«¯ä»£ç ï¼š`backend/src/utils/constants.ts` ä¸­çš„ `MAX_FILE_SIZE`

### Q: å¦‚ä½•è‡ªå®šä¹‰è½®è¯¢é—´éš”ï¼Ÿ

A: ä¿®æ”¹æ’ä»¶ç«¯ `.env` ä¸­çš„ `VITE_POLL_INTERVAL_MS`ï¼ˆå•ä½ï¼šæ¯«ç§’ï¼‰ã€‚

### Q: Redis è¿æ¥å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

A: æ£€æŸ¥ï¼š
1. Redis æœåŠ¡æ˜¯å¦è¿è¡Œï¼š`redis-cli ping`
2. é…ç½®æ˜¯å¦æ­£ç¡®ï¼š`backend/.env` ä¸­çš„ Redis é…ç½®
3. é˜²ç«å¢™æ˜¯å¦å¼€æ”¾ 6379 ç«¯å£

### Q: æ’ä»¶ä¿®æ”¹åå¦‚ä½•æ›´æ–°ï¼Ÿ

A:
1. ä¿®æ”¹ä»£ç åè¿è¡Œ `pnpm build`
2. åœ¨ `chrome://extensions` ä¸­ç‚¹å‡»"é‡æ–°åŠ è½½"
3. æˆ–é‡æ–°åŠ è½½ `dist` ç›®å½•

---

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. **åç«¯ API**
   - åœ¨ `backend/src/controllers/` æ·»åŠ æ§åˆ¶å™¨
   - åœ¨ `backend/src/services/` æ·»åŠ ä¸šåŠ¡é€»è¾‘
   - åœ¨ `backend/src/routes/` æ³¨å†Œè·¯ç”±

2. **æ’ä»¶ç«¯**
   - åœ¨ `packages/sync-service/lib/api/` æ·»åŠ  API å®¢æˆ·ç«¯
   - åœ¨ `pages/side-panel/src/components/` æ·»åŠ  React ç»„ä»¶
   - åœ¨ `pages/side-panel/src/hooks/` æ·»åŠ è‡ªå®šä¹‰ Hooks

### ä»£ç è§„èŒƒ

```bash
# ä»£ç æ ¼å¼åŒ–
pnpm format

# ä»£ç æ£€æŸ¥
pnpm lint

# ç±»å‹æ£€æŸ¥
pnpm type-check
```

### æµ‹è¯•

```bash
# åç«¯æµ‹è¯•
cd backend
pnpm test

# E2E æµ‹è¯•
pnpm e2e
```

---

## æŠ€æœ¯æ ˆè¯¦æƒ…

| ç±»åˆ« | æŠ€æœ¯ | ç‰ˆæœ¬ |
|------|------|------|
| å‰ç«¯æ¡†æ¶ | React | 18.x |
| è¯­è¨€ | TypeScript | 5.x |
| æ„å»ºå·¥å…· | Vite | 5.x |
| Monorepo | Turborepo | 2.x |
| æ ·å¼ | Tailwind CSS | 3.x |
| åç«¯æ¡†æ¶ | Express | 4.x |
| æ•°æ®åº“ | Redis | 6.x+ |
| åŒ…ç®¡ç†å™¨ | pnpm | 8.x+ |
| Node.js | >= 18.x | - |

---

## è®¸å¯è¯

MIT License

---

## è‡´è°¢

æœ¬é¡¹ç›®åŸºäº [chrome-extension-boilerplate-react-vite](https://github.com/Jonghakseo/chrome-extension-boilerplate-react-vite) æ¨¡æ¿å¼€å‘ã€‚

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ Star æ”¯æŒä¸€ä¸‹ï¼**

</div>
